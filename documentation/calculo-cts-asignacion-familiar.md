# C√°lculo de CTS y Asignaci√≥n Familiar - Sistema SUNAT 2025

## üìã **Descripci√≥n General**

Este documento detalla el c√°lculo de dos beneficios importantes para los trabajadores peruanos:
1. **CTS (Compensaci√≥n por Tiempo de Servicios)**
2. **Asignaci√≥n Familiar**

## üßÆ **CTS - Compensaci√≥n por Tiempo de Servicios**

### **¬øQu√© es la CTS?**
La CTS es un beneficio social que se paga a los trabajadores dependientes en mayo y noviembre de cada a√±o, seg√∫n la normativa peruana vigente.

### **F√≥rmula de C√°lculo**
```
CTS = [(Remuneraci√≥n computable / 12) √ó N¬∞ de meses] + [(Remuneraci√≥n computable / 360) √ó N¬∞ de d√≠as]
```

### **Componentes de la F√≥rmula**
1. **Primer componente**: `(Remuneraci√≥n computable / 12) √ó N¬∞ de meses`
   - **Remuneraci√≥n computable**: Sueldo mensual base
   - **Divisor**: 12 (meses del a√±o)
   - **Multiplicador**: Meses trabajados desde el inicio hasta el mes de pago

2. **Segundo componente**: `(Remuneraci√≥n computable / 360) √ó N¬∞ de d√≠as`
   - **Remuneraci√≥n computable**: Sueldo mensual base
   - **Divisor**: 360 (d√≠as del a√±o)
   - **Multiplicador**: D√≠as trabajados en el mes de pago (aproximado a 30 d√≠as)

### **Meses de Pago**
- **Primer pago**: Mayo
- **Segundo pago**: Noviembre

### **Ejemplos Pr√°cticos**

#### **Ejemplo 1: Trabajador desde Enero - Sueldo S/ 3,000**
**C√°lculo de Mayo:**
```
Meses trabajados: 5 (Enero a Mayo)
D√≠as trabajados: 30 (Mayo)

Primer componente: (3,000 / 12) √ó 5 = 250 √ó 5 = 1,250
Segundo componente: (3,000 / 360) √ó 30 = 8.33 √ó 30 = 250

Total CTS Mayo: 1,250 + 250 = S/ 1,500
```

**C√°lculo de Noviembre:**
```
Meses trabajados: 11 (Enero a Noviembre)
D√≠as trabajados: 30 (Noviembre)

Primer componente: (3,000 / 12) √ó 11 = 250 √ó 11 = 2,750
Segundo componente: (3,000 / 360) √ó 30 = 8.33 √ó 30 = 250

Total CTS Noviembre: 2,750 + 250 = S/ 3,000
```

**Total Anual CTS**: S/ 1,500 + S/ 3,000 = **S/ 4,500**

#### **Ejemplo 2: Trabajador desde Marzo - Sueldo S/ 4,000**
**C√°lculo de Mayo:**
```
Meses trabajados: 3 (Marzo a Mayo)
D√≠as trabajados: 30 (Mayo)

Primer componente: (4,000 / 12) √ó 3 = 333.33 √ó 3 = 1,000
Segundo componente: (4,000 / 360) √ó 30 = 11.11 √ó 30 = 333.33

Total CTS Mayo: 1,000 + 333.33 = S/ 1,333.33
```

**C√°lculo de Noviembre:**
```
Meses trabajados: 9 (Marzo a Noviembre)
D√≠as trabajados: 30 (Noviembre)

Primer componente: (4,000 / 12) √ó 9 = 333.33 √ó 9 = 3,000
Segundo componente: (4,000 / 360) √ó 30 = 11.11 √ó 30 = 333.33

Total CTS Noviembre: 3,000 + 333.33 = S/ 3,333.33
```

**Total Anual CTS**: S/ 1,333.33 + S/ 3,333.33 = **S/ 4,666.66**

### **Consideraciones Importantes**
- **Base de c√°lculo**: Solo el sueldo base mensual
- **No incluye**: Bonificaciones, utilidades, gratificaciones
- **Meses trabajados**: Se cuenta desde el mes de inicio del trabajo
- **D√≠as trabajados**: Se aproxima a 30 d√≠as por mes
- **Personalizaci√≥n**: Se puede especificar un mes personalizado

## üë®‚Äçüë©‚Äçüëß‚Äçüë¶ **Asignaci√≥n Familiar**

### **¬øQu√© es la Asignaci√≥n Familiar?**
La asignaci√≥n familiar es un beneficio que reciben los trabajadores que tienen hijos menores de 18 a√±os o hijos estudiando despu√©s de cumplir la mayor√≠a de edad.

### **Requisitos para Recibir Asignaci√≥n Familiar**
1. **Hijos menores de 18 a√±os**: Al menos un hijo menor de edad
2. **Hijos estudiando**: Hijos mayores de 18 a√±os que est√©n estudiando (m√°ximo 6 a√±os posteriores)
3. **Documentaci√≥n**: Comprobante de hijos (partida de nacimiento, DNI, etc.)

### **Monto de la Asignaci√≥n Familiar**
- **Monto mensual**: S/ 75.00 Nuevos Soles
- **Base de c√°lculo**: 10% de la Remuneraci√≥n M√≠nima Legal Vigente (RMLV)
- **Caracter√≠stica**: Monto fijo, no var√≠a seg√∫n ingresos del trabajador
- **Frecuencia**: Mensual (todos los meses del a√±o)

### **Ejemplos Pr√°cticos**

#### **Ejemplo 1: Trabajador con 2 hijos menores de 18 a√±os**
```
Monto mensual: S/ 75.00
N√∫mero de hijos: 2
Total mensual: S/ 75.00 (no se multiplica por n√∫mero de hijos)
Total anual: S/ 75.00 √ó 12 = S/ 900.00
```

#### **Ejemplo 2: Trabajador con 1 hijo estudiando despu√©s de 18 a√±os**
```
Monto mensual: S/ 75.00
N√∫mero de hijos: 1 (estudiando)
Total mensual: S/ 75.00
Total anual: S/ 75.00 √ó 12 = S/ 900.00
```

#### **Ejemplo 3: Trabajador con 3 hijos menores y 1 estudiando**
```
Monto mensual: S/ 75.00
Total mensual: S/ 75.00 (no se multiplica por n√∫mero total de hijos)
Total anual: S/ 75.00 √ó 12 = S/ 900.00
```

### **Caracter√≠sticas de la Asignaci√≥n Familiar**
- **Monto √≠ntegro**: Se recibe completo independientemente de los d√≠as trabajados
- **Independiente del sueldo**: No var√≠a seg√∫n el nivel de ingresos
- **Aplicaci√≥n mensual**: Se recibe todos los meses del a√±o
- **No acumulable**: No se puede acumular de un mes a otro
- **No transferible**: Solo para el trabajador que cumple los requisitos

## üîß **Implementaci√≥n en el Sistema**

### **Configuraci√≥n de CTS**
```typescript
interface SunatCalculationParams {
  // ... otros campos
  calculateCTS: boolean;              // Si se debe calcular CTS autom√°ticamente
  cts?: number;                       // CTS manual (opcional)
  ctsMonth?: number;                  // Mes personalizado para CTS
  startWorkMonth: number;             // Mes de inicio de trabajo
}
```

### **Configuraci√≥n de Asignaci√≥n Familiar**
```typescript
interface SunatCalculationParams {
  // ... otros campos
  calculateAsignacionFamiliar: boolean; // Si se debe calcular asignaci√≥n familiar
  hasChildren: boolean;               // Si tiene hijos menores de 18 a√±os
  childrenCount: number;              // N√∫mero de hijos
  childrenStudying: boolean;          // Si tiene hijos estudiando despu√©s de 18
}
```

### **C√°lculo Autom√°tico vs Manual**

#### **CTS Autom√°tico**
- **Activado por defecto**: `calculateCTS: true`
- **Meses de pago**: Mayo y Noviembre
- **F√≥rmula aplicada**: Seg√∫n normativa peruana
- **Validaciones**: Solo si el trabajador ya estaba empleado en esos meses

#### **CTS Manual**
- **Activado**: `calculateCTS: false`
- **Monto**: Especificado en `cts`
- **Mes**: Especificado en `ctsMonth`
- **Uso**: Para casos especiales o montos espec√≠ficos

#### **Asignaci√≥n Familiar Autom√°tica**
- **Activada por defecto**: `calculateAsignacionFamiliar: true`
- **Validaci√≥n**: Verifica `hasChildren` o `childrenStudying`
- **Monto**: S/ 75.00 mensual autom√°tico
- **Frecuencia**: Todos los meses del a√±o

#### **Asignaci√≥n Familiar Manual**
- **Activada**: `calculateAsignacionFamiliar: false`
- **Monto**: Especificado en `asignacionFamiliar`
- **Uso**: Para casos especiales o montos espec√≠ficos

## üìä **Integraci√≥n con Otros Ingresos**

### **CTS + Gratificaciones**
- **Mayo**: CTS + asignaci√≥n familiar
- **Julio**: Gratificaciones + asignaci√≥n familiar
- **Noviembre**: CTS + asignaci√≥n familiar
- **Diciembre**: Gratificaciones + asignaci√≥n familiar

### **CTS + Otros Ingresos**
- **Bonificaciones**: Se pueden especificar en cualquier mes
- **Utilidades**: Se pueden especificar en cualquier mes
- **Ingreso adicional**: Se puede especificar en cualquier mes
- **Asignaci√≥n familiar**: Todos los meses (si aplica)

### **C√°lculo del Ingreso Total Mensual**
```
Ingreso Total = Sueldo Base + Ingreso Adicional + Gratificaciones + 
                Bonificaciones + Utilidades + CTS + Asignaci√≥n Familiar
```

## ‚ö†Ô∏è **Consideraciones Importantes**

### **Requisitos Legales**
- **CTS**: Obligatorio para trabajadores dependientes
- **Asignaci√≥n Familiar**: Solo para trabajadores que cumplan requisitos
- **Documentaci√≥n**: Comprobantes v√°lidos para asignaci√≥n familiar
- **Cumplimiento**: Seg√∫n normativa SUNAT vigente

### **Validaciones del Sistema**
- **Mes de inicio**: Debe estar entre 1 y 12
- **C√°lculo autom√°tico**: Respetar flags de configuraci√≥n
- **Meses de pago**: Solo en meses correspondientes
- **Montos**: Validar que sean positivos y razonables

### **Casos Especiales**
- **Trabajador nuevo**: Solo CTS si ya estaba empleado en mayo/noviembre
- **Trabajador con cese**: CTS proporcional hasta el mes de cese
- **M√∫ltiples empleadores**: CTS solo del empleador principal
- **Hijos m√∫ltiples**: Asignaci√≥n familiar no se multiplica por n√∫mero de hijos

## üîç **Verificaci√≥n de C√°lculos**

### **Validaci√≥n de CTS**
Para verificar que el c√°lculo de CTS es correcto:

1. **Identificar meses trabajados** desde el inicio
2. **Aplicar primer componente**: (Sueldo √∑ 12) √ó Meses
3. **Aplicar segundo componente**: (Sueldo √∑ 360) √ó 30
4. **Sumar componentes**: Base + D√≠as = Total CTS

### **Validaci√≥n de Asignaci√≥n Familiar**
Para verificar que la asignaci√≥n familiar es correcta:

1. **Verificar requisitos**: Hijos menores de 18 o estudiando
2. **Confirmar monto**: S/ 75.00 mensual
3. **Verificar frecuencia**: Todos los meses del a√±o
4. **Validar total anual**: S/ 900.00

### **Validaci√≥n en el Sistema**
El sistema proporciona desglose detallado:

#### **Para CTS:**
- `ctsBase`: C√°lculo por meses trabajados
- `ctsDias`: C√°lculo por d√≠as trabajados
- `ctsTotal`: Total de CTS del mes

#### **Para Asignaci√≥n Familiar:**
- `asignacionFamiliar`: Monto mensual (S/ 75.00)
- `totalAsignacionFamiliar`: Total anual
- **Integraci√≥n**: Incluido en `totalMonthlyIncome`

## üìö **Referencias Legales**

### **CTS**
- **Ley de CTS**: Ley N¬∞ 27360
- **Reglamento**: D.S. N¬∞ 001-97-TR
- **Modificaciones**: Seg√∫n normativa vigente 2025

### **Asignaci√≥n Familiar**
- **Constituci√≥n Pol√≠tica del Per√∫**: Art√≠culo 24
- **Ley de Asignaci√≥n Familiar**: Ley N¬∞ 25151
- **Reglamento**: D.S. N¬∞ 004-2002-TR
- **Monto 2025**: S/ 75.00 (10% de RMLV)

## üöÄ **Pr√≥ximas Actualizaciones**

### **Funcionalidades Planificadas**
- **Historial de CTS**: Por trabajador y a√±o
- **Historial de asignaci√≥n familiar**: Por trabajador y a√±o
- **Reportes consolidados**: CTS + asignaci√≥n familiar
- **Integraci√≥n**: Con sistemas de n√≥mina externos

### **Mejoras T√©cnicas**
- **Performance**: Optimizaci√≥n de c√°lculos
- **Validaciones**: Reglas de negocio adicionales
- **Interfaz**: Formularios espec√≠ficos para CTS y asignaci√≥n familiar
- **Exportaci√≥n**: Formatos est√°ndar para contabilidad

---

**√öltima actualizaci√≥n**: Diciembre 2024
**Versi√≥n**: 1.0
**Sistema**: SUNAT Calculator 2025
**Cumplimiento**: Normativa peruana vigente
**Fuentes**: 
- [Noticiero Contable - CTS](https://noticierocontable.com/algunos-datos-sobre-la-cts/)
- [TUO Compensaci√≥n por Tiempo de Servicios](https://cdn.www.gob.pe/uploads/document/file/229267/TUO_Compensacion_por_Tiempo_de_Servicios_-_D.S_001-97-TR.pdf)
